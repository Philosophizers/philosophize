{"ast":null,"code":"// src/store/topics.js\n\nconst GET_TOPICS = \"topics/GET_TOPICS\";\nconst CREATE_TOPIC = \"topics/CREATE_TOPIC\";\nconst REMOVE_TOPIC = \"topics/REMOVE_TOPIC\";\nconst UPDATE_TOPIC = \"topics/UPDATE_TOPIC\";\nconst SET_TOPIC_OF_THE_DAY = \"topics/SET_TOPIC_OF_THE_DAY\";\nconst GET_COMMENTS = \"topics/GET_COMMENTS\";\nconst ADD_COMMENT = \"topics/ADD_COMMENT\";\nconst VOTE_FOR_TOPIC = \"topics/VOTE_FOR_TOPIC\";\nconst UNVOTE_FOR_TOPIC = \"topics/UNVOTE_FOR_TOPIC\";\nconst RESET_VOTES = \"topics/RESET_VOTES\";\n\n// Action Creators\nconst getTopics = topics => ({\n  type: GET_TOPICS,\n  topics\n});\nexport const addTopic = topic => ({\n  type: CREATE_TOPIC,\n  topic\n});\n\n// Thunk Action Creators\nexport const fetchTopics = () => async dispatch => {\n  const response = await fetch(\"/api/topics\");\n  if (response.ok) {\n    const topics = await response.json();\n    dispatch(getTopics(topics));\n  }\n};\nexport const updateTopic = topic => ({\n  type: UPDATE_TOPIC,\n  topic\n});\nexport const editTopic = (topicId, topicData) => async dispatch => {\n  const response = await fetch(`/api/topics/${topicId}`, {\n    method: \"PUT\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(topicData),\n    credentials: \"include\"\n  });\n  if (response.ok) {\n    const updatedTopic = await response.json();\n    dispatch(updateTopic(updatedTopic));\n    return updatedTopic;\n  } else {\n    const errors = await response.json();\n    return errors;\n  }\n};\nexport const removeTopic = topicId => ({\n  type: REMOVE_TOPIC,\n  topicId\n});\nexport const createTopic = topicData => async dispatch => {\n  const response = await fetch(\"/api/topics/banana\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(topicData)\n    // body: formInfo\n  });\n\n  if (response.ok) {\n    const newTopic = await response.json();\n    dispatch(addTopic(newTopic));\n    return newTopic;\n  } else {\n    const errors = await response.json();\n    return errors;\n  }\n};\nexport const createComment = (topicId, commentData) => async dispatch => {\n  const response = await fetch(`/api/comments/${topicId}`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(commentData)\n    // body: formInfo\n  });\n\n  if (response.ok) {\n    console.log('comment created', response);\n  } else {\n    const errors = await response.json();\n    return errors;\n  }\n};\n\n// Add new action creators\nexport const setTopicOfTheDay = topic => ({\n  type: SET_TOPIC_OF_THE_DAY,\n  topic\n});\nexport const getComments = comments => ({\n  type: GET_COMMENTS,\n  comments\n});\nexport const addComment = comment => ({\n  type: ADD_COMMENT,\n  comment\n});\n\n// export const voteForTopic = (topicId) => ({\n//   type: VOTE_FOR_TOPIC,\n//   topicId,\n// });\n\nexport const voteForTopic = updatedTopic => ({\n  type: VOTE_FOR_TOPIC,\n  topic: updatedTopic\n});\nexport const unvoteForTopic = updatedTopic => ({\n  type: UNVOTE_FOR_TOPIC,\n  topic: updatedTopic\n});\n\n// Thunk for fetching the topic of the day\nexport const fetchTopicOfTheDay = () => async dispatch => {\n  const response = await fetch(\"/api/topics/topic-of-the-day\");\n  if (response.ok) {\n    const topic = await response.json();\n    dispatch(setTopicOfTheDay(topic));\n  }\n};\n\n// Thunk for fetching comments of the topic of the day\nexport const fetchCommentsForTopic = topicId => async dispatch => {\n  const response = await fetch(`/api/comments/${topicId}`);\n  if (response.ok) {\n    const comments = await response.json();\n    dispatch(getComments(comments));\n  }\n};\n\n// export const castVote = (topicId) => async (dispatch) => {\n//   const response = await fetch(`/api/topics/${topicId}/vote`, {\n//     method: 'POST',\n//     headers: {\n//       'Content-Type': 'application/json'\n//     },\n//     // Make sure to include credentials if your API requires authentication\n//     credentials: 'include',\n//   });\n\n//   if (response.ok) {\n//     dispatch(voteForTopic(topicId));\n//   } else {\n//     // Handle errors, e.g., user has already voted\n//     const data = await response.json();\n//     alert(data.message); // Or handle the error message in a more user-friendly way\n//   }\n// };\n\nexport const castVote = topicId => async dispatch => {\n  const response = await fetch(`/api/topics/${topicId}/vote`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    credentials: \"include\"\n  });\n  if (response.ok) {\n    const updatedTopic = await response.json();\n    console.log(\"Updated Topic:\", updatedTopic); // Log to check the updated topic\n    dispatch(voteForTopic(updatedTopic));\n  } else {\n    const data = await response.json();\n    alert(data.message);\n  }\n};\nexport const removeVote = topicId => async dispatch => {\n  const response = await fetch(`/api/topics/${topicId}/unvote`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    // Make sure to include credentials if your API requires authentication\n    credentials: \"include\"\n  });\n  if (response.ok) {\n    const updatedTopic = await response.json();\n    dispatch(unvoteForTopic(updatedTopic));\n  } else {\n    // Handle errors\n    const data = await response.json();\n    alert(data.message); // Or handle the error message in a more user-friendly way\n  }\n};\n\n// Adjust the initial state\nconst initialState = {\n  topics: {},\n  // Existing topics state\n  topicOfTheDay: null,\n  // New state for Topic of the Day\n  comments: {} // New state for comments\n};\n\n// Reducer\n\n// export default function topicsReducer(state = initialState, action) {\n//   switch (action.type) {\n//       case GET_TOPICS:\n//           const topicsNormalized = {};\n//           action.topics.forEach(topic => {\n//               topicsNormalized[topic.id] = topic;\n//           });\n//           return { ...state, ...topicsNormalized };\n//       case CREATE_TOPIC:\n//           return { ...state, [action.topic.id]: action.topic };\n//       default:\n//           return state;\n//   }\n// }\n\nexport default function topicsReducer() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case GET_TOPICS:\n      return {\n        ...state,\n        ...Object.fromEntries(action.topics.map(topic => [topic.id, topic]))\n      };\n    case CREATE_TOPIC:\n      return {\n        ...state,\n        [action.topic.id]: action.topic\n      };\n    case UPDATE_TOPIC:\n      return {\n        ...state,\n        [action.topic.id]: action.topic\n      };\n    case REMOVE_TOPIC:\n      const newState = {\n        ...state\n      };\n      delete newState[action.topicId];\n      return newState;\n    case SET_TOPIC_OF_THE_DAY:\n      return {\n        ...state,\n        topicOfTheDay: action.topic\n      };\n    case GET_COMMENTS:\n      return {\n        ...state,\n        comments: {\n          ...action.comments\n        }\n      };\n    case ADD_COMMENT:\n      // Logic to add a new comment to the state\n      return {\n        ...state,\n        comments: {\n          ...state.comments,\n          [action.comment.id]: action.comment\n        }\n      };\n    //     case VOTE_FOR_TOPIC:\n    //   return {\n    //     ...state,\n    //     topics: {\n    //       ...state.topics,\n    //       [action.topicId]: {\n    //         ...state.topics[action.topicId],\n    //         hasVoted: true\n    //       }\n    //     }\n    //   };\n    // case UNVOTE_FOR_TOPIC:\n    //   return {\n    //     ...state,\n    //     topics: {\n    //       ...state.topics,\n    //       [action.topicId]: {\n    //         ...state.topics[action.topicId],\n    //         hasVoted: false\n    //       }\n    //     }\n    //   };\n    case VOTE_FOR_TOPIC:\n      console.log(\"Action:\", action);\n      console.log(\"Current State:\", state); // Log current state\n      const newTopic = {\n        ...state[action.topic.id],\n        ...action.topic\n      };\n      console.log(\"ne topic\", newTopic);\n      const updatedState = {\n        ...state,\n        [action.topic.id]: newTopic\n      };\n      console.log(\"Updated State:\", updatedState); // Log updated state\n      return updatedState;\n    case UNVOTE_FOR_TOPIC:\n      return {\n        ...state,\n        [action.topic.id]: {\n          ...state[action.topic.id],\n          ...action.topic\n        }\n      };\n    default:\n      return state;\n  }\n}","map":{"version":3,"names":["GET_TOPICS","CREATE_TOPIC","REMOVE_TOPIC","UPDATE_TOPIC","SET_TOPIC_OF_THE_DAY","GET_COMMENTS","ADD_COMMENT","VOTE_FOR_TOPIC","UNVOTE_FOR_TOPIC","RESET_VOTES","getTopics","topics","type","addTopic","topic","fetchTopics","dispatch","response","fetch","ok","json","updateTopic","editTopic","topicId","topicData","method","headers","body","JSON","stringify","credentials","updatedTopic","errors","removeTopic","createTopic","newTopic","createComment","commentData","console","log","setTopicOfTheDay","getComments","comments","addComment","comment","voteForTopic","unvoteForTopic","fetchTopicOfTheDay","fetchCommentsForTopic","castVote","data","alert","message","removeVote","initialState","topicOfTheDay","topicsReducer","state","action","Object","fromEntries","map","id","newState","updatedState"],"sources":["/Users/yosephlatif/Desktop/philosophize/react-app/src/store/topics.js"],"sourcesContent":["// src/store/topics.js\n\nconst GET_TOPICS = \"topics/GET_TOPICS\";\nconst CREATE_TOPIC = \"topics/CREATE_TOPIC\";\nconst REMOVE_TOPIC = \"topics/REMOVE_TOPIC\";\nconst UPDATE_TOPIC = \"topics/UPDATE_TOPIC\";\nconst SET_TOPIC_OF_THE_DAY = \"topics/SET_TOPIC_OF_THE_DAY\";\nconst GET_COMMENTS = \"topics/GET_COMMENTS\";\nconst ADD_COMMENT = \"topics/ADD_COMMENT\";\nconst VOTE_FOR_TOPIC = \"topics/VOTE_FOR_TOPIC\";\nconst UNVOTE_FOR_TOPIC = \"topics/UNVOTE_FOR_TOPIC\";\nconst RESET_VOTES = \"topics/RESET_VOTES\";\n\n// Action Creators\nconst getTopics = (topics) => ({\n  type: GET_TOPICS,\n  topics,\n});\n\nexport const addTopic = (topic) => ({\n  type: CREATE_TOPIC,\n  topic,\n});\n\n// Thunk Action Creators\nexport const fetchTopics = () => async (dispatch) => {\n  const response = await fetch(\"/api/topics\");\n  if (response.ok) {\n    const topics = await response.json();\n    dispatch(getTopics(topics));\n  }\n};\n\nexport const updateTopic = (topic) => ({\n  type: UPDATE_TOPIC,\n  topic,\n});\n\nexport const editTopic = (topicId, topicData) => async (dispatch) => {\n  const response = await fetch(`/api/topics/${topicId}`, {\n    method: \"PUT\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify(topicData),\n    credentials: \"include\",\n  });\n\n  if (response.ok) {\n    const updatedTopic = await response.json();\n    dispatch(updateTopic(updatedTopic));\n    return updatedTopic;\n  } else {\n    const errors = await response.json();\n    return errors;\n  }\n};\n\nexport const removeTopic = (topicId) => ({\n  type: REMOVE_TOPIC,\n  topicId,\n});\n\nexport const createTopic = (topicData) => async (dispatch) => {\n  const response = await fetch(\"/api/topics/banana\", {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify(topicData),\n    // body: formInfo\n  });\n\n  if (response.ok) {\n    const newTopic = await response.json();\n    dispatch(addTopic(newTopic));\n    return newTopic;\n  } else {\n    const errors = await response.json();\n    return errors;\n  }\n};\n\nexport const createComment = (topicId, commentData) => async (dispatch) => {\n  const response = await fetch(`/api/comments/${topicId}`, {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify(commentData),\n    // body: formInfo\n  });\n\n  if (response.ok) {\n    console.log('comment created', response)\n  } else {\n    const errors = await response.json();\n    return errors;\n  }\n};\n\n// Add new action creators\nexport const setTopicOfTheDay = (topic) => ({\n  type: SET_TOPIC_OF_THE_DAY,\n  topic,\n});\n\nexport const getComments = (comments) => ({\n  type: GET_COMMENTS,\n  comments,\n});\n\nexport const addComment = (comment) => ({\n  type: ADD_COMMENT,\n  comment,\n});\n\n// export const voteForTopic = (topicId) => ({\n//   type: VOTE_FOR_TOPIC,\n//   topicId,\n// });\n\nexport const voteForTopic = (updatedTopic) => ({\n  type: VOTE_FOR_TOPIC,\n  topic: updatedTopic,\n});\n\nexport const unvoteForTopic = (updatedTopic) => ({\n  type: UNVOTE_FOR_TOPIC,\n  topic: updatedTopic,\n});\n\n// Thunk for fetching the topic of the day\nexport const fetchTopicOfTheDay = () => async (dispatch) => {\n  const response = await fetch(\"/api/topics/topic-of-the-day\");\n  if (response.ok) {\n    const topic = await response.json();\n    dispatch(setTopicOfTheDay(topic));\n  }\n};\n\n// Thunk for fetching comments of the topic of the day\nexport const fetchCommentsForTopic = (topicId) => async (dispatch) => {\n  const response = await fetch(`/api/comments/${topicId}`);\n  if (response.ok) {\n    const comments = await response.json();\n    dispatch(getComments(comments));\n  }\n};\n\n// export const castVote = (topicId) => async (dispatch) => {\n//   const response = await fetch(`/api/topics/${topicId}/vote`, {\n//     method: 'POST',\n//     headers: {\n//       'Content-Type': 'application/json'\n//     },\n//     // Make sure to include credentials if your API requires authentication\n//     credentials: 'include',\n//   });\n\n//   if (response.ok) {\n//     dispatch(voteForTopic(topicId));\n//   } else {\n//     // Handle errors, e.g., user has already voted\n//     const data = await response.json();\n//     alert(data.message); // Or handle the error message in a more user-friendly way\n//   }\n// };\n\nexport const castVote = (topicId) => async (dispatch) => {\n  const response = await fetch(`/api/topics/${topicId}/vote`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    credentials: \"include\",\n  });\n\n  if (response.ok) {\n    const updatedTopic = await response.json();\n    console.log(\"Updated Topic:\", updatedTopic); // Log to check the updated topic\n    dispatch(voteForTopic(updatedTopic));\n  } else {\n    const data = await response.json();\n    alert(data.message);\n  }\n};\n\nexport const removeVote = (topicId) => async (dispatch) => {\n  const response = await fetch(`/api/topics/${topicId}/unvote`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    // Make sure to include credentials if your API requires authentication\n    credentials: \"include\",\n  });\n\n  if (response.ok) {\n    const updatedTopic = await response.json();\n    dispatch(unvoteForTopic(updatedTopic));\n  } else {\n    // Handle errors\n    const data = await response.json();\n    alert(data.message); // Or handle the error message in a more user-friendly way\n  }\n};\n\n// Adjust the initial state\nconst initialState = {\n  topics: {}, // Existing topics state\n  topicOfTheDay: null, // New state for Topic of the Day\n  comments: {}, // New state for comments\n};\n\n// Reducer\n\n// export default function topicsReducer(state = initialState, action) {\n//   switch (action.type) {\n//       case GET_TOPICS:\n//           const topicsNormalized = {};\n//           action.topics.forEach(topic => {\n//               topicsNormalized[topic.id] = topic;\n//           });\n//           return { ...state, ...topicsNormalized };\n//       case CREATE_TOPIC:\n//           return { ...state, [action.topic.id]: action.topic };\n//       default:\n//           return state;\n//   }\n// }\n\nexport default function topicsReducer(state = initialState, action) {\n  switch (action.type) {\n    case GET_TOPICS:\n      return {\n        ...state,\n        ...Object.fromEntries(action.topics.map((topic) => [topic.id, topic])),\n      };\n    case CREATE_TOPIC:\n      return { ...state, [action.topic.id]: action.topic };\n    case UPDATE_TOPIC:\n      return {\n        ...state,\n        [action.topic.id]: action.topic,\n      };\n    case REMOVE_TOPIC:\n      const newState = { ...state };\n      delete newState[action.topicId];\n      return newState;\n    case SET_TOPIC_OF_THE_DAY:\n      return { ...state, topicOfTheDay: action.topic };\n    case GET_COMMENTS:\n      return { ...state, comments: { ...action.comments } };\n    case ADD_COMMENT:\n      // Logic to add a new comment to the state\n      return {\n        ...state,\n        comments: { ...state.comments, [action.comment.id]: action.comment },\n      };\n    //     case VOTE_FOR_TOPIC:\n    //   return {\n    //     ...state,\n    //     topics: {\n    //       ...state.topics,\n    //       [action.topicId]: {\n    //         ...state.topics[action.topicId],\n    //         hasVoted: true\n    //       }\n    //     }\n    //   };\n    // case UNVOTE_FOR_TOPIC:\n    //   return {\n    //     ...state,\n    //     topics: {\n    //       ...state.topics,\n    //       [action.topicId]: {\n    //         ...state.topics[action.topicId],\n    //         hasVoted: false\n    //       }\n    //     }\n    //   };\n    case VOTE_FOR_TOPIC:\n      console.log(\"Action:\", action);\n      console.log(\"Current State:\", state); // Log current state\n      const newTopic = {\n        ...state[action.topic.id],\n        ...action.topic,\n      };\n      console.log(\"ne topic\", newTopic);\n      const updatedState = {\n        ...state,\n        [action.topic.id]: newTopic,\n      };\n      console.log(\"Updated State:\", updatedState); // Log updated state\n      return updatedState;\n\n    case UNVOTE_FOR_TOPIC:\n      return {\n        ...state,\n        [action.topic.id]: {\n          ...state[action.topic.id],\n          ...action.topic,\n          \n        },\n      };\n    default:\n      return state;\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}